{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Inspiron\\\\Desktop\\\\dj rest login\\\\MOM_Frontend\\\\src\\\\components\\\\Dashboard\\\\Dashboard.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport styles from './style.css';\n\nclass Dashboard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      logged_in: localStorage.getItem('token') ? true : false,\n      email: ''\n    };\n  }\n\n  componentDidMount() {\n    if (this.state.logged_in) {\n      fetch('http://localhost:8000/api/current_user/', {\n        headers: {\n          Authorization: `JWT ${localStorage.getItem('token')}`\n        }\n      }).then(res => res.json()).then(json => {\n        if (json.hasOwnProperty('email')) {\n          this.setState({ ...this.state,\n            email: json.email\n          }, () => {\n            console.log(\"componentDidMount Dashboard Set Called \");\n            console.log(\"json\", json);\n            console.log(\"state\", this.state);\n          });\n        } else {\n          this.setState({\n            logged_in: false,\n            email: ''\n          }, () => {\n            console.log(\"componentDidMount Dashboard Reset Called \");\n            console.log(\"json\", json);\n            console.log(\"state\", this.state);\n          });\n        }\n      });\n    }\n  }\n\n  render() {\n    const logged_in_dashboard = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }\n    }, \"Welcome \", this.state.email, /*#__PURE__*/React.createElement(\"div\", {\n      onClick: this.props.handle_logout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }\n    }, \"Logout\"));\n    const logged_out_dashboard = /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 13\n      }\n    }, \"Login To View Dashboard\");\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 35\n      }\n    }), props.userState.logged_in ? logged_in_dashboard : logged_out_dashboard);\n  }\n\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["C:/Users/Inspiron/Desktop/dj rest login/MOM_Frontend/src/components/Dashboard/Dashboard.js"],"names":["React","useEffect","useState","axios","styles","Dashboard","Component","constructor","props","state","logged_in","localStorage","getItem","email","componentDidMount","fetch","headers","Authorization","then","res","json","hasOwnProperty","setState","console","log","render","logged_in_dashboard","handle_logout","logged_out_dashboard","userState"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,aAAnB;;AAEA,MAAMC,SAAN,SAAwBC,SAAxB,CAAkC;AAC9BC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACTC,MAAAA,SAAS,EAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,IAAgC,IAAhC,GAAuC,KADzC;AAETC,MAAAA,KAAK,EAAE;AAFE,KAAb;AAIH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB,QAAI,KAAKL,KAAL,CAAWC,SAAf,EAA0B;AACtBK,MAAAA,KAAK,CAAC,yCAAD,EAA4C;AAC7CC,QAAAA,OAAO,EAAE;AACLC,UAAAA,aAAa,EAAG,OAAMN,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8B;AAD/C;AADoC,OAA5C,CAAL,CAKKM,IALL,CAKUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EALjB,EAMKF,IANL,CAMUE,IAAI,IAAI;AACV,YAAIA,IAAI,CAACC,cAAL,CAAoB,OAApB,CAAJ,EAAkC;AAC9B,eAAKC,QAAL,CAAc,EAAE,GAAG,KAAKb,KAAV;AAAiBI,YAAAA,KAAK,EAAEO,IAAI,CAACP;AAA7B,WAAd,EAAoD,MAAM;AACtDU,YAAAA,OAAO,CAACC,GAAR,CAAY,yCAAZ;AACAD,YAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBJ,IAApB;AACAG,YAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB,KAAKf,KAA1B;AACH,WAJD;AAKH,SAND,MAOK;AACD,eAAKa,QAAL,CAAc;AAAEZ,YAAAA,SAAS,EAAE,KAAb;AAAoBG,YAAAA,KAAK,EAAE;AAA3B,WAAd,EAA+C,MAAM;AACjDU,YAAAA,OAAO,CAACC,GAAR,CAAY,2CAAZ;AACAD,YAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBJ,IAApB;AACAG,YAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqB,KAAKf,KAA1B;AACH,WAJD;AAKH;AAEJ,OAtBL;AAuBH;AACJ;;AAIDgB,EAAAA,MAAM,GAAG;AACL,UAAMC,mBAAmB,gBACrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACa,KAAKjB,KAAL,CAAWI,KADxB,eAEI;AAAK,MAAA,OAAO,EAAE,KAAKL,KAAL,CAAWmB,aAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,CADJ;AAMA,UAAMC,oBAAoB,gBACtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCADJ;AAKA,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eACU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADV,eACgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADhB,eACsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADtB,EAGQpB,KAAK,CAACqB,SAAN,CAAgBnB,SAAhB,GAA4BgB,mBAA5B,GAAkDE,oBAH1D,CADJ;AAQH;;AA5D6B;;AA+DlC,eAAevB,SAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\nimport styles from './style.css'\r\n\r\nclass Dashboard extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            logged_in: localStorage.getItem('token') ? true : false,\r\n            email: ''\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.state.logged_in) {\r\n            fetch('http://localhost:8000/api/current_user/', {\r\n                headers: {\r\n                    Authorization: `JWT ${localStorage.getItem('token')}`\r\n                }\r\n            })\r\n                .then(res => res.json())\r\n                .then(json => {\r\n                    if (json.hasOwnProperty('email')) {\r\n                        this.setState({ ...this.state, email: json.email }, () => {\r\n                            console.log(\"componentDidMount Dashboard Set Called \");\r\n                            console.log(\"json\", json);\r\n                            console.log(\"state\", this.state);\r\n                        });\r\n                    }\r\n                    else {\r\n                        this.setState({ logged_in: false, email: '' }, () => {\r\n                            console.log(\"componentDidMount Dashboard Reset Called \");\r\n                            console.log(\"json\", json);\r\n                            console.log(\"state\", this.state);\r\n                        });\r\n                    }\r\n\r\n                });\r\n        }\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        const logged_in_dashboard = (\r\n            <div>\r\n                Welcome {this.state.email}\r\n                <div onClick={this.props.handle_logout}>Logout</div>\r\n            </div>)\r\n\r\n        const logged_out_dashboard = (\r\n            <div>\r\n                Login To View Dashboard\r\n            </div>)\r\n\r\n        return (\r\n            <div>\r\n                <br /><br /><br /><br />\r\n                {\r\n                    props.userState.logged_in ? logged_in_dashboard : logged_out_dashboard\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Dashboard;"]},"metadata":{},"sourceType":"module"}