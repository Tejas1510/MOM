{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Inspiron\\\\Desktop\\\\new social auth\\\\MOM_Frontend\\\\src\\\\components\\\\Login\\\\Login.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport '../../../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport '../../../node_modules/font-awesome/css/font-awesome.min.css';\nimport Fade from 'react-reveal/Fade';\nimport Bounce from 'react-reveal/Bounce';\nimport '../../assets/css/style.css';\nimport '../HomePage/style.css';\nimport headerImage from \"../../assets/img/headerImage.svg\";\nimport ZoomLogo from '../../assets/img/zoomLogo.png';\nimport FeatureZoom from '../../assets/img/featureZoom.png';\nimport FeatureImage2 from \"../../assets/img/featureImage2.svg\";\nimport ColaborationImage from \"../../assets/img/colaborationImage.svg\";\nimport Step1 from '../../assets/img/step1.png';\nimport Step2 from \"../../assets/img/step2.svg\";\nimport Step3 from \"../../assets/img/step3.svg\";\nimport Step4 from '../../assets/img/step4.png';\nimport Step5 from \"../../assets/img/step5.svg\";\nimport styles from './style.css';\nimport GoogleLogin from 'react-google-login';\n\nfunction Login() {\n  const CLIENT_ID = '882188012713-j4ad7au5jf559ulap1ru0bg04m8rntga.apps.googleusercontent.com';\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log(\"Submited Called\");\n    axios.post(`http://localhost:8000/auth/token/`, {\n      grant_type: 'password',\n      username: 'admin',\n      password: 'admin',\n      client_id: 'nlKKtVM024AEzcox7aBkIacpL1nwFrHESmgKdu1x',\n      client_secret: 'DLZwgtg8cygAu2vYtJsYz77xpMskbU52ib7jIiVe4kbCc8OFyucgOZoqWISF82xYK3i7o8p0eEg6yB1zHpA0UgcMEDmtj4py37aKWCYQvSPyUvyODUSNZjb1stdc8ALO'\n    }).then(res => {\n      console.log(res);\n      localStorage.setItem('access_token', res.data.access_token);\n      localStorage.setItem('refresh_token', res.data.refresh_token);\n    });\n  };\n\n  const googleLogin = accessToken => {\n    console.log(\"Google Login Called\"); // const headers = {\n    //     'Content-Type': 'application/x-www-form-urlencoded',\n    //     'Authorization': \"Token \" + accessToken,\n    // };\n    // axios.post(`http://localhost:8000/auth/convert-token/`, {\n    //         token: accessToken,\n    //         backend: 'google',\n    // \t\tgrant_type: 'convert_token',\n    // \t\tclient_id: 'nlKKtVM024AEzcox7aBkIacpL1nwFrHESmgKdu1x',\n    // \t\tclient_secret:\n    // \t\t\t'DLZwgtg8cygAu2vYtJsYz77xpMskbU52ib7jIiVe4kbCc8OFyucgOZoqWISF82xYK3i7o8p0eEg6yB1zHpA0UgcMEDmtj4py37aKWCYQvSPyUvyODUSNZjb1stdc8ALO',\n    // \t}, {\n    //         headers: headers\n    //       })\n    // \t.then((res) => {\n    // \t\tconsole.log(res);\n    //         localStorage.setItem('access_token', res.data.access_token);\n    //         localStorage.setItem('refresh_token', res.data.refresh_token);\n    // \t});\n\n    let meetPostRequest = new XMLHttpRequest();\n    const postAPIURL = \"http://127.0.0.1:8000/auth/convert-token\";\n    meetPostRequest.open(\"POST\", postAPIURL);\n    meetPostRequest.setRequestHeader('Content-type', 'application/json; charset=utf-8');\n    meetPostRequest.send(JSON.stringify({\n      token: accessToken,\n      backend: 'google-oauth2',\n      grant_type: 'convert_token',\n      client_id: 'nlKKtVM024AEzcox7aBkIacpL1nwFrHESmgKdu1x',\n      client_secret: 'DLZwgtg8cygAu2vYtJsYz77xpMskbU52ib7jIiVe4kbCc8OFyucgOZoqWISF82xYK3i7o8p0eEg6yB1zHpA0UgcMEDmtj4py37aKWCYQvSPyUvyODUSNZjb1stdc8ALO'\n    }));\n\n    meetPostRequest.onload = () => {\n      console.log(meetPostRequest);\n\n      if (meetPostRequest.status == 200) {\n        console.log(JSON.parse(meetPostRequest.response));\n      } else {\n        console.log(`errors ${meetPostRequest.status} ${meetPostRequest.statusText}`);\n      }\n    };\n  };\n\n  const loginResponse = response => {\n    console.log(\"loginResponse\", response);\n    googleLogin(response.accessToken);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"headCont\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 21\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: e => {\n      handleSubmit(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 21\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(GoogleLogin, {\n    clientId: CLIENT_ID,\n    buttonText: \"LOGIN WITH GOOGLE\",\n    onSuccess: loginResponse,\n    onFailure: loginResponse,\n    cookiePolicy: \"single_host_origin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 21\n    }\n  }))));\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Inspiron/Desktop/new social auth/MOM_Frontend/src/components/Login/Login.js"],"names":["React","useEffect","useState","axios","Fade","Bounce","ZoomLogo","FeatureZoom","Step1","Step4","styles","GoogleLogin","Login","CLIENT_ID","handleSubmit","e","preventDefault","console","log","post","grant_type","username","password","client_id","client_secret","then","res","localStorage","setItem","data","access_token","refresh_token","googleLogin","accessToken","meetPostRequest","XMLHttpRequest","postAPIURL","open","setRequestHeader","send","JSON","stringify","token","backend","onload","status","parse","response","statusText","loginResponse"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport axios from 'axios'\r\nimport '../../../node_modules/bootstrap/dist/css/bootstrap.min.css';\r\nimport '../../../node_modules/font-awesome/css/font-awesome.min.css'\r\nimport Fade from 'react-reveal/Fade';\r\nimport Bounce from 'react-reveal/Bounce'\r\nimport '../../assets/css/style.css'\r\nimport '../HomePage/style.css'\r\nimport headerImage from '../../assets/img/headerImage.svg'\r\nimport ZoomLogo from '../../assets/img/zoomLogo.png'\r\nimport FeatureZoom from '../../assets/img/featureZoom.png'\r\nimport FeatureImage2 from '../../assets/img/featureImage2.svg'\r\nimport ColaborationImage from '../../assets/img/colaborationImage.svg'\r\nimport Step1 from '../../assets/img/step1.png'\r\nimport Step2 from '../../assets/img/step2.svg'\r\nimport Step3 from '../../assets/img/step3.svg'\r\nimport Step4 from '../../assets/img/step4.png'\r\nimport Step5 from '../../assets/img/step5.svg'\r\nimport styles from './style.css'\r\nimport GoogleLogin from 'react-google-login';\r\n\r\nfunction Login() {\r\n\r\n    const CLIENT_ID = '882188012713-j4ad7au5jf559ulap1ru0bg04m8rntga.apps.googleusercontent.com';\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        console.log(\"Submited Called\")\r\n        axios.post(`http://localhost:8000/auth/token/`, {\r\n\t\t\t\tgrant_type: 'password',\r\n\t\t\t\tusername: 'admin',\r\n\t\t\t\tpassword: 'admin',\r\n\t\t\t\tclient_id: 'nlKKtVM024AEzcox7aBkIacpL1nwFrHESmgKdu1x',\r\n\t\t\t\tclient_secret:\r\n\t\t\t\t\t'DLZwgtg8cygAu2vYtJsYz77xpMskbU52ib7jIiVe4kbCc8OFyucgOZoqWISF82xYK3i7o8p0eEg6yB1zHpA0UgcMEDmtj4py37aKWCYQvSPyUvyODUSNZjb1stdc8ALO',\r\n\t\t\t})\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log(res);\r\n                localStorage.setItem('access_token', res.data.access_token);\r\n                localStorage.setItem('refresh_token', res.data.refresh_token);\r\n\t\t\t});\r\n    }\r\n\r\n    const googleLogin = (accessToken) => {\r\n        console.log(\"Google Login Called\");\r\n        // const headers = {\r\n        //     'Content-Type': 'application/x-www-form-urlencoded',\r\n        //     'Authorization': \"Token \" + accessToken,\r\n        // };\r\n        // axios.post(`http://localhost:8000/auth/convert-token/`, {\r\n        //         token: accessToken,\r\n        //         backend: 'google',\r\n\t\t// \t\tgrant_type: 'convert_token',\r\n\t\t// \t\tclient_id: 'nlKKtVM024AEzcox7aBkIacpL1nwFrHESmgKdu1x',\r\n\t\t// \t\tclient_secret:\r\n\t\t// \t\t\t'DLZwgtg8cygAu2vYtJsYz77xpMskbU52ib7jIiVe4kbCc8OFyucgOZoqWISF82xYK3i7o8p0eEg6yB1zHpA0UgcMEDmtj4py37aKWCYQvSPyUvyODUSNZjb1stdc8ALO',\r\n\t\t// \t}, {\r\n        //         headers: headers\r\n        //       })\r\n\t\t// \t.then((res) => {\r\n\t\t// \t\tconsole.log(res);\r\n        //         localStorage.setItem('access_token', res.data.access_token);\r\n        //         localStorage.setItem('refresh_token', res.data.refresh_token);\r\n\t\t// \t});\r\n\r\n\r\n        let meetPostRequest = new XMLHttpRequest();\r\n        const postAPIURL = \"http://127.0.0.1:8000/auth/convert-token\";\r\n\r\n      meetPostRequest.open(\"POST\", postAPIURL);\r\n      meetPostRequest.setRequestHeader('Content-type', 'application/json; charset=utf-8');\r\n      meetPostRequest.send(JSON.stringify({\r\n                token: accessToken,\r\n                backend: 'google-oauth2',\r\n\t\t\t\tgrant_type: 'convert_token',\r\n\t\t\t\tclient_id: 'nlKKtVM024AEzcox7aBkIacpL1nwFrHESmgKdu1x',\r\n\t\t\t\tclient_secret:\r\n\t\t\t\t\t'DLZwgtg8cygAu2vYtJsYz77xpMskbU52ib7jIiVe4kbCc8OFyucgOZoqWISF82xYK3i7o8p0eEg6yB1zHpA0UgcMEDmtj4py37aKWCYQvSPyUvyODUSNZjb1stdc8ALO',\r\n\t\t\t}));\r\n      meetPostRequest.onload = () => {\r\n        console.log(meetPostRequest);\r\n        if(meetPostRequest.status == 200){\r\n          console.log(JSON.parse(meetPostRequest.response));\r\n        }\r\n        else{\r\n          console.log(`errors ${meetPostRequest.status} ${meetPostRequest.statusText}`)\r\n        }\r\n      }\r\n    }\r\n\r\n    const loginResponse = (response) =>{\r\n        console.log(\"loginResponse\", response);\r\n        googleLogin(response.accessToken)\r\n    }\r\n\r\n    return (\r\n        <div className=\"wrapper\">\r\n            <div className=\"card\">\r\n                <div className=\"headCont\">\r\n                    <h2>Login</h2>\r\n                    <button onClick={(e) => {handleSubmit(e)}}>Login</button>\r\n                    <GoogleLogin clientId={CLIENT_ID}\r\n                buttonText=\"LOGIN WITH GOOGLE\"\r\n                onSuccess={loginResponse}\r\n                onFailure={loginResponse}                \r\n                cookiePolicy='single_host_origin'/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n"]},"metadata":{},"sourceType":"module"}