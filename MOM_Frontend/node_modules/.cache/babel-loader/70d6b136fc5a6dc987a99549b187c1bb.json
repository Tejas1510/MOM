{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Inspiron\\\\Desktop\\\\New folder (2)\\\\MOM_Frontend\\\\src\\\\components\\\\Login\\\\Login.js\";\nimport React, { useState } from 'react';\nimport './style.css';\nimport { useHistory } from \"react-router-dom\";\n\nfunction Login(props) {\n  const [state, setState] = useState({\n    activeTab: 'signIn',\n    signInEmail: '',\n    signInPassword: '',\n    signUpEmail: '',\n    signUpPassword1: '',\n    signUpPassword2: '',\n    signInClass: 'signInContainer activeContainer',\n    signUpClass: 'signUpContainer',\n    signInHeadClass: 'signInHeader activeHeader',\n    signUpHeadClass: 'signUpHeader',\n    infoContent: ''\n  });\n  let history = useHistory();\n\n  const signInTabClickHandler = () => {\n    setState({ ...state,\n      activeTab: 'signIn',\n      signInClass: 'signInContainer activeContainer',\n      signUpClass: 'signUpContainer',\n      signInHeadClass: 'signInHeader activeHeader',\n      signUpHeadClass: 'signUpHeader'\n    });\n  };\n\n  const signUpTabClickHandler = () => {\n    setState({ ...state,\n      activeTab: 'signUp',\n      signInClass: 'signInContainer',\n      signUpClass: 'signUpContainer activeContainer',\n      signInHeadClass: 'signInHeader',\n      signUpHeadClass: 'signUpHeader activeHeader'\n    });\n  };\n\n  const inputHandler = e => {\n    setState({ ...state,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const clickSignIn = e => {\n    const formData = {\n      'email': state.signInEmail,\n      'password': state.signInPassword\n    };\n    console.log(\"Sign In, formData\", formData);\n    fetch('http://localhost:8000/token-auth/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(formData)\n    }).then(res => res.json()).then(json => {\n      console.log(\"Login form json\", json);\n      console.log(\"Login form json.user\", json.user);\n      localStorage.setItem('token', json.token);\n      props.manageState({\n        logged_in: true,\n        email: json.user.email\n      });\n      history.push(\"/dashboard\");\n    });\n  };\n\n  const clickSignUp = () => {\n    const formData = {\n      'email': state.signUpEmail,\n      'password': state.signUpPassword1 //'password2': state.signUpPassword2\n\n    };\n    console.log(\"Sign Up, formData\", formData);\n    fetch('http://localhost:8000/api/users/', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }).then(res => res.json()).then(json => {\n      console.log(\"Login form json\", json);\n      console.log(\"Login form json.user\", json.user);\n      localStorage.setItem('token', json.token);\n      props.manageState({\n        logged_in: true,\n        email: json.user.email\n      });\n      history.push(\"/dashboard\");\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 31\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"formContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"formHeader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: state.signInHeadClass,\n    onClick: signInTabClickHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  }, \"Sign In\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: state.signUpHeadClass,\n    onClick: signUpTabClickHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }, \"Sign Up\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: state.signInClass,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inputGroup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 45\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"signInEmail\",\n    value: state.signInEmail,\n    onChange: inputHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inputGroup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 25\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 48\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"signInPassword\",\n    value: state.signInPassword,\n    onChange: inputHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"actionButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"a\", {\n    className: \"buttonLink\",\n    onClick: clickSignIn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 25\n    }\n  }, \"Sign In\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: state.signUpClass,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inputGroup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 25\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 45\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    name: \"signUpEmail\",\n    value: state.signUpEmail,\n    onChange: inputHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inputGroup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 25\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 48\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"signUpPassword1\",\n    value: state.signUpPassword1,\n    onChange: inputHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inputGroup\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 25\n    }\n  }, \"Confirm Password\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 56\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    name: \"signUpPassword2\",\n    value: state.signUpPassword2,\n    onChange: inputHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 25\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"actionButton\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"buttonLink\",\n    onClick: clickSignUp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 25\n    }\n  }, \"Sign Up\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"infoBox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }, state.infoContent)));\n}\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/Inspiron/Desktop/New folder (2)/MOM_Frontend/src/components/Login/Login.js"],"names":["React","useState","useHistory","Login","props","state","setState","activeTab","signInEmail","signInPassword","signUpEmail","signUpPassword1","signUpPassword2","signInClass","signUpClass","signInHeadClass","signUpHeadClass","infoContent","history","signInTabClickHandler","signUpTabClickHandler","inputHandler","e","target","name","value","clickSignIn","formData","console","log","fetch","method","headers","body","JSON","stringify","then","res","json","user","localStorage","setItem","token","manageState","logged_in","email","push","clickSignUp","data"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport './style.css'\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Login(props) {\r\n    const [state, setState] = useState({\r\n        activeTab: 'signIn',\r\n        signInEmail: '',\r\n        signInPassword: '',\r\n        signUpEmail: '',\r\n        signUpPassword1: '',\r\n        signUpPassword2: '',\r\n        signInClass: 'signInContainer activeContainer',\r\n        signUpClass: 'signUpContainer',\r\n        signInHeadClass: 'signInHeader activeHeader',\r\n        signUpHeadClass: 'signUpHeader',\r\n        infoContent: ''\r\n    });\r\n\r\n    let history = useHistory();\r\n\r\n    const signInTabClickHandler = () => {\r\n        setState({\r\n            ...state, activeTab: 'signIn', signInClass: 'signInContainer activeContainer',\r\n            signUpClass: 'signUpContainer', signInHeadClass: 'signInHeader activeHeader',\r\n            signUpHeadClass: 'signUpHeader'\r\n        });\r\n    }\r\n\r\n    const signUpTabClickHandler = () => {\r\n        setState({\r\n            ...state, activeTab: 'signUp', signInClass: 'signInContainer',\r\n            signUpClass: 'signUpContainer activeContainer', signInHeadClass: 'signInHeader',\r\n            signUpHeadClass: 'signUpHeader activeHeader'\r\n        });\r\n    };\r\n\r\n    const inputHandler = (e) => {\r\n        setState({ ...state, [e.target.name]: e.target.value });\r\n    }\r\n\r\n    const clickSignIn = (e) => {\r\n        const formData = {\r\n            'email': state.signInEmail,\r\n            'password': state.signInPassword\r\n        };\r\n        console.log(\"Sign In, formData\", formData);\r\n        fetch('http://localhost:8000/token-auth/', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(formData)\r\n        })\r\n            .then(res => res.json())\r\n            .then(json => {\r\n                console.log(\"Login form json\", json);\r\n                console.log(\"Login form json.user\", json.user);\r\n                localStorage.setItem('token', json.token);\r\n                props.manageState({ logged_in: true, email: json.user.email });\r\n                history.push(\"/dashboard\");\r\n            });\r\n    }\r\n\r\n    const clickSignUp = () => {\r\n        const formData = {\r\n            'email': state.signUpEmail,\r\n            'password': state.signUpPassword1,\r\n            //'password2': state.signUpPassword2\r\n        };\r\n        console.log(\"Sign Up, formData\", formData);\r\n\r\n        fetch('http://localhost:8000/api/users/', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n            .then(res => res.json())\r\n            .then(json => {\r\n                console.log(\"Login form json\", json);\r\n                console.log(\"Login form json.user\", json.user);\r\n                localStorage.setItem('token', json.token);\r\n                props.manageState({ logged_in: true, email: json.user.email });\r\n                history.push(\"/dashboard\");\r\n            });\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <br /><br /><br /><br />\r\n            <div className=\"formContainer\">\r\n                <div className=\"formHeader\">\r\n                    <div className={state.signInHeadClass} onClick={signInTabClickHandler}>\r\n                        Sign In\r\n                    </div>\r\n                    <div className={state.signUpHeadClass} onClick={signUpTabClickHandler}>\r\n                        Sign Up\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={state.signInClass}>\r\n                    <div className=\"inputGroup\">\r\n                        <label>Email</label><br />\r\n                        <input type=\"email\" name=\"signInEmail\" value={state.signInEmail} onChange={inputHandler} />\r\n                    </div>\r\n\r\n                    <div className=\"inputGroup\">\r\n                        <label>Password</label><br />\r\n                        <input type=\"password\" name=\"signInPassword\" value={state.signInPassword} onChange={inputHandler} />\r\n                    </div>\r\n\r\n                    <div className=\"actionButton\">\r\n                        <br />\r\n                        <a className=\"buttonLink\" onClick={clickSignIn}>Sign In</a>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={state.signUpClass}>\r\n                    <div className=\"inputGroup\">\r\n                        <label>Email</label><br />\r\n                        <input type=\"email\" name=\"signUpEmail\" value={state.signUpEmail} onChange={inputHandler} />\r\n                    </div>\r\n\r\n                    <div className=\"inputGroup\">\r\n                        <label>Password</label><br />\r\n                        <input type=\"password\" name=\"signUpPassword1\" value={state.signUpPassword1} onChange={inputHandler} />\r\n                    </div>\r\n\r\n                    <div className=\"inputGroup\">\r\n                        <label>Confirm Password</label><br />\r\n                        <input type=\"password\" name=\"signUpPassword2\" value={state.signUpPassword2} onChange={inputHandler} />\r\n                    </div>\r\n\r\n                    <div className=\"actionButton\">\r\n                        <a className=\"buttonLink\" onClick={clickSignUp}>Sign Up</a>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"infoBox\">\r\n                    {state.infoContent}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}